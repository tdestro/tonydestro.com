<!doctype html>
<html>
 <head> 
  <meta charset="UTF-8"> 
  <title></title> 
  <style>
        #parallaxWomen0_1903,
        #parallaxWomen1_1903,
        #parallaxWomen2_1903,
        #parallaxMen0_1903,
        #parallaxMen1_1903,
        #parallaxMen2_1903 {
            z-index: 2;
            position: absolute;
            display: none;
        }
        
        #parallaxWomen3_1903,
        #parallaxMen3_1903 {
            z-index: 2;
            position: absolute;
            display: none;
        }
        
        #videoloopCanvas_1903 {
            z-index: 3;
            position: absolute;
        }
        
        #staticCanvas_1903 {
            z-index: 4;
            position: absolute;
        }
        
        body {
            margin: 0px;
            padding: 0px;
        }
        
        #video_1903 {
            display: none;
        }
    </style> 
  <link rel="stylesheet" type="text/css" href="styles/styles.css"> 
 <script type="text/javascript" src="js/popcorn.min.js"></script> 
 </head> 
 <body>
 <img width="100%" style="margin-bottom: -6px;" src="header.png">
  <div id="parallaxMen0_1903" class="aeobtsflx-parallax aeobtsflx-core"> 
   <!-- CORE MENS --> 
   <img class="aspect" src="images/aeobtsflx-core-bg.jpg"> 
   <ul id="parallaxMen0Scene_1903" class="aeobtsflx-scene fill"> 
    <li class="layer expand-width" data-depth="0.60"> 
     <div class="heading"></div></li> 
    <li class="layer expand-width" data-depth="0.35"> 
     <div class="max"></div></li> 
    <li class="layer expand-width exit" data-depth="0.25"> 
     <div class="shop-callout"> 
      <img src="images/aeobtsflx-core-features.png"> 
      <a href="#" class="button"><img src="images/aeobtsflx-core-shop-button.png"></a> 
     </div> </li> 
   </ul> 
  </div>
  <div id="parallaxMen1_1903" class="aeobtsflx-parallax aeobtsflx-active"> 
   <!-- ACTIVE MENS --> 
   <img class="aspect" src="images/aeobtsflx-active-bg.jpg"> 
   <ul id="parallaxMen1Scene_1903" class="aeobtsflx-scene scene fill"> 
    <li class="layer expand-width" data-depth="1.00"> 
     <div class="heading"></div></li> 
    <li class="layer expand-width" data-depth="0.30"> 
     <div class="man"></div></li> 
    <li class="layer expand-width exit" data-depth="0.40"> 
     <div class="shop-callout"> 
      <img src="images/aeobtsflx-active-features.png"> 
      <a href="#" class="button"><img src="images/aeobtsflx-active-shop-button.png"></a> 
     </div> </li> 
   </ul> 
  </div>
  <div id="parallaxMen2_1903" class="aeobtsflx-parallax aeobtsflx-extreme"> 
   <!-- EXTREME MENS --> 
   <img class="aspect" src="images/aeobtsflx-extreme-bg.jpg"> 
   <ul id="parallaxMen2Scene_1903" class="aeobtsflx-scene scene fill"> 
    <li class="layer expand-width" data-depth="1.00"> 
     <div class="heading"></div></li> 
    <li class="layer expand-width" data-depth="0.30"> 
     <div class="dock"></div></li> 
    <li class="layer expand-width exit" data-depth="0.40"> 
     <div class="shop-callout"> 
      <img src="images/aeobtsflx-extreme-features.png"> 
      <a href="#" class="button"><img src="images/aeobtsflx-extreme-shop-button.png"></a> 
     </div> </li> 
   </ul> 
  </div>
  <div id="parallaxMen3_1903" class="aeobtsflx-parallax aeobtsflx-flexdenim "> 
   <!-- Flex end slate --> 
   <img class="aspect" src="images/aeobtsflx-flexdenim-bg.jpg"> 
   <ul id="parallaxMen3Scene_1903" class="aeobtsflx-scene scene fill"> 
    <li class="layer expand-width" data-depth="1.00"> 
     <div class="heading"></div></li> 
    <li class="layer expand-width" data-depth="0.20"> 
     <div class="man"></div></li> 
    <li class="layer shop-callout core" data-depth="0.45"> <img src="images/aeobtsflx-flexdenim-core.png"> <a href="#" class="button"><img src="images/aeobtsflx-flexdenim-shop-button.png"></a> <a href="#" class="replay"><img src="images/aeobtsflx-flexdenim-replay.png"></a> </li> 
    <li class="layer shop-callout active" data-depth="0.55"> <img src="images/aeobtsflx-flexdenim-active.png"> <a href="#" class="button"><img src="images/aeobtsflx-flexdenim-shop-button.png"></a> <a href="#" class="replay"><img src="images/aeobtsflx-flexdenim-replay.png"></a> </li> 
    <li class="layer shop-callout extreme" data-depth="0.65"> <img src="images/aeobtsflx-flexdenim-extreme.png"> <a href="#" class="button"><img src="images/aeobtsflx-flexdenim-shop-button.png"></a> <a href="#" class="replay"><img src="images/aeobtsflx-flexdenim-replay.png"></a> </li> 
   </ul> 
  </div>
  <div id="parallaxWomen0_1903" class="aeobtsflx-parallax aeobtsflx-x4 "> 
   <!-- x4 womens--> 
   <img class="aspect" src="images/aeobtsflx-x4-bg.jpg"> 
   <ul id="parallaxWomen0Scene_1903" class="aeobtsflx-scene scene fill"> 
    <li class="layer expand-width" data-depth="0.75"> 
     <div class="heading"></div></li> 
    <li class="layer expand-width" data-depth="0.50"> 
     <div class="eli"></div></li> 
    <li class="layer expand-width exit" data-depth="0.25"> 
     <div class="shop-callout"> 
      <img src="images/aeobtsflx-x4-features.png"> 
      <a href="#" class="button"><img src="images/aeobtsflx-x4-shop-button.png"></a> 
     </div> </li> 
   </ul> 
  </div>
  <div id="parallaxWomen1_1903" class="aeobtsflx-parallax aeobtsflx-sateen "> 
   <!-- sateen womens --> 
   <img class="aspect" src="images/aeobtsflx-sateen-bg.jpg"> 
   <ul id="parallaxWomen1Scene_1903" class="aeobtsflx-scene scene fill"> 
    <li class="layer expand-width" data-depth="1.00"> 
     <div class="heading"></div></li> 
    <li class="layer expand-width" data-depth="0.20"> 
     <div class="maia"></div></li> 
    <li class="layer expand-width exit" data-depth="0.70"> 
     <div class="shop-callout"> 
      <img src="images/aeobtsflx-sateen-features.png"> 
      <a href="#" class="button"><img src="images/aeobtsflx-sateen-shop-button.png"></a> 
     </div> </li> 
   </ul> 
  </div>
  <div id="parallaxWomen2_1903" class="aeobtsflx-parallax aeobtsflx-x"> 
   <!-- x womens --> 
   <img class="aspect" src="images/aeobtsflx-x-bg.jpg"> 
   <ul id="parallaxWomen2Scene_1903" class="aeobtsflx-scene scene fill"> 
    <li class="layer expand-width" data-depth="0.60"> 
     <div class="heading"></div></li> 
    <li class="layer expand-width" data-depth="0.40"> 
     <div class="maia"></div></li> 
    <li class="layer expand-width exit" data-depth="0.25"> 
     <div class="shop-callout"> 
      <img src="images/aeobtsflx-x-features.png"> 
      <a href="#" class="button"><img src="images/aeobtsflx-x-shop-button.png"></a> 
     </div> </li> 
   </ul> 
  </div>
  <div id="parallaxWomen3_1903" class="aeobtsflx-parallax aeobts-denim-end "> 
   <!-- denim x endslate --> 
   <img class="aspect" src="images/aeobtsflx-end-bg.jpg"> 
   <ul id="parallaxWomen3Scene_1903" class="aeobtsflx-scene scene fill"> 
    <li class="layer expand-width" data-depth="1.00"> 
     <div class="heading"></div></li> 
    <li class="layer expand-width" data-depth="0.20"> 
     <div class="bridget"></div></li> 
    <li class="layer shop-callout x_4" data-depth="0.50"> <img src="images/aeobtsflx-end-denim_x4.png"> <a href="#" class="button"><img src="images/aeobtsflx-end-shop-button.png"></a> <a href="#" class="replay"><img src="images/aeobtsflx-end-replay.png"></a> </li> 
    <li class="layer shop-callout x" data-depth="0.55"> <img src="images/aeobtsflx-end-denim_x.png"> <a href="#" class="button"><img src="images/aeobtsflx-end-shop-button.png"></a> <a href="#" class="replay"><img src="images/aeobtsflx-end-replay.png"></a> </li> 
    <li class="layer shop-callout sateen" data-depth="0.60"> <img src="images/aeobtsflx-end-sateen_x.png"> <a href="#" class="button"><img src="images/aeobtsflx-end-shop-button.png"></a> <a href="#" class="replay"><img src="images/aeobtsflx-end-replay.png"></a> </li> 
   </ul> 
  </div>
  <script id="objects_1903">var objectStringWomen_1903 = [{
  calibrateX: false,
  calibrateY: false,
  invertX: false,
  invertY: true,
  limitX: 45,
  limitY: 35,
  scalarX: 7,
  scalarY: 5.5,
  originX: .65,
  originY: .65
},{
  calibrateX: false,
  calibrateY: false,
  invertX: false,
  invertY: true,
  limitX: 35,
  limitY: 25,
  scalarX: 6,
  scalarY: 4,
  originX: .5,
  originY: .5
},{
  calibrateX: false,
  calibrateY: false,
  invertX: false,
  invertY: true,
  limitX: 35,
  limitY: 25,
  scalarX: 6,
  scalarY: 4,
  originX: .5,
  originY: .5
},{
  calibrateX: false,
  calibrateY: false,
  invertX: false,
  invertY: true,
  limitX: 35,
  limitY: 25,
  scalarX: 6,
  scalarY: 4,
  originX: .5,
  originY: .5
}]; var objectStringMen_1903 = [{
  calibrateX: false,
  calibrateY: false,
  invertX: false,
  invertY: true,
  limitX: 45,
  limitY: 35,
  scalarX: 6,
  scalarY: 3,
  originX: .5,
  originY: .5
},{
  calibrateX: false,
  calibrateY: false,
  invertX: false,
  invertY: true,
  limitX: 45,
  limitY: 35,
  scalarX: 6,
  scalarY: 3,
  originX: .5,
  originY: .5
},{
  calibrateX: false,
  calibrateY: false,
  invertX: false,
  invertY: true,
  limitX: 45,
  limitY: 35,
  scalarX: 6,
  scalarY: 3,
  originX: .5,
  originY: .5
},{
  calibrateX: false,
  calibrateY: false,
  invertX: false,
  invertY: true,
  limitX: 35,
  limitY: 25,
  scalarX: 6,
  scalarY: 4,
  originX: .5,
  originY: .5
}];</script>
  <canvas id="staticCanvas_1903"></canvas> 
  <canvas id="videoloopCanvas_1903"></canvas> 
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> 
  <script type="text/javascript" src="js/parallax.min.js"></script> 
  <script type="text/javascript" src="js/raF.min.js"></script> 
  <script type="text/javascript" src="js/jcanvas.min.js"></script> 
  <script>
  
        $(document).ready(function() {
            $.preloadImages = function() {
                for (var i = 0; i < arguments.length; i++) {
                    $("<img />").attr("src", arguments[i]);
                }
            }

            /////////////////////////////////////////////////////
            $.jCanvas.extend({
                name: 'drawHole',
                type: 'hole',
                props: {},
                fn: function(ctx, params) {
                    // Just to keep our lines short
                    var p = params;
                    $.jCanvas.transformShape(this, ctx, params, 400, 400);

                    ctx.beginPath();
                    ctx.globalCompositeOperation = "destination-out";
                    ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2, false);
                    // Call the detectEvents() function to enable jCanvas events
                    // Be sure to pass it these arguments, too!
                    $.jCanvas.detectEvents(this, ctx, p);
                    // Call the closePath() functions to fill, stroke, and close the path
                    // This function also enables masking support and events
                    // It accepts the same arguments as detectEvents()    
                    $.jCanvas.closePath(this, ctx, p);
                }
            });

            jQuery.fn.extend({
                clickOrTouch: function(handler) {
                    return this.each(function() {
                        var event = ('ontouchstart' in document) ? 'touchstart' : 'click';
                        $(this).on(event, handler);
                    });
                }
            });

            /////////////////////////////////////////////////////

            (function() {

                function videoCanvasDraw() {
                    this.reset();

                };

                videoCanvasDraw.prototype.contracted = function() {
                    if (this.scaleIncrement < 0) {
                        aeVideo.play();
                    }
                }

                videoCanvasDraw.prototype.reset = function() {
                    this.orientation = "start";
                    this.animateCircleStart = false;
                    this.circleStartRadius = 30;
                    this.holeScale = 0;
                    this.halfWidth = 0;
                    this.halfHeight = 0;
                    this.maxRad = 0;
                    this.scaleIncrement = 1;
                    this.mouseX = 0;
                    this.mouseY = 0;
                    var videoloopCanvas_1903 = document.getElementById("videoloopCanvas_1903");
                    videoloopCanvas_1903.style.zIndex = "3";
                }
                videoCanvasDraw.prototype.setToEnd = function() {
                    this.orientation = "end";
                    this.animateCircleStart = false;
                    $('#videoloopCanvas_1903').clearCanvas();
                    var videoloopCanvas_1903 = document.getElementById("videoloopCanvas_1903");
                    videoloopCanvas_1903.style.zIndex = "0";


                }
                videoCanvasDraw.prototype.animateCircle = function() {
                    this.animateCircleStart = true;
                    this.orientation = "playing";
                }
                videoCanvasDraw.prototype.setMouseCoords = function(x, y) {
                    this.mouseX = x;
                    this.mouseY = y;
                }
                videoCanvasDraw.prototype.reverse = function() {
                    var videoloopCanvas_1903 = document.getElementById("videoloopCanvas_1903");
                    videoloopCanvas_1903.style.zIndex = "3";
                    this.scaleIncrement = -1;
                }
                videoCanvasDraw.prototype.draw = function(evt) {
                    requestAnimationFrame(function() {
                        videoCanvasDrawObj.draw(evt);
                    });

                    if (this.orientation != "end") {

                        $('#videoloopCanvas_1903').draw({
                            fn: function(ctx) {
                                ctx.drawImage(evt.target, 0, 0, ctx.canvas.width, ctx.canvas.height);
                            }
                        });
                    }

                    if (this.animateCircleStart) {
                        (aspectRatioObj.currentWidth - this.mouseX > this.mouseX) ? this.longerWidth = (aspectRatioObj.currentWidth - this.mouseX) * 2: this.longerWidth = this.mouseX * 2;
                        (aspectRatioObj.currentHeight - this.mouseY > this.mouseY) ? this.longerHeight = (aspectRatioObj.currentHeight - this.mouseY) * 2: this.longerHeight = this.mouseY * 2;
                        // Interactive Canvas JS written for AE by Tony Destro. http://www.tonydestro.com/ 
                        this.maxRad = Math.sqrt(Math.pow(this.longerWidth, 2) + Math.pow(this.longerHeight, 2));

                        if ((this.scaleIncrement > 0 && (this.circleStartRadius * this.holeScale < this.maxRad)) ||
                            (this.scaleIncrement < 0 && this.holeScale > 0)) {
                            this.holeScale += this.scaleIncrement;
                        } else if (this.scaleIncrement > 0) {
                            this.setToEnd();
                        } else {
                            this.contracted();
                            this.reset();
                        }
                        $('#videoloopCanvas_1903').saveCanvas();
                        $('#videoloopCanvas_1903').drawHole({
                            fillStyle: '#c33',
                            radius: this.circleStartRadius,
                            x: this.mouseX,
                            y: this.mouseY,
                            scale: this.holeScale,
                        });
                        $('#videoloopCanvas_1903').restoreCanvas();
                        $('#videoloopCanvas_1903').drawArc({
                            strokeStyle: this.strokeStyle,
                            strokeWidth: this.strokeWidth,
                            strokeDash: this.strokeDash,
                            strokeCap: "round",
                            radius: this.circleStartRadius,
                            x: this.mouseX,
                            y: this.mouseY,
                            scale: this.holeScale
                        });
                    }

                };
                /////////////////////////////////////////////////////  
                function aspectRatio() {}
                aspectRatio.prototype.calculate = function(width, height, innerwidth) {
                    this.currentWidth = innerwidth;
                    this.currentHeight = (innerwidth / (width / height));
                    this.currentHeightpx = this.currentHeight + "px";
                    this.currentWidthpx = this.currentWidth + "px";
                };
                aspectRatio.prototype.apply = function() {
                    var aspectRatioDiv = document.getElementById("videoloopCanvas_1903");
                    aspectRatioDiv.setAttribute("height", this.currentHeight);
                    aspectRatioDiv.setAttribute("width", this.currentWidth);
                    aspectRatioDiv.style.width = this.currentWidthpx;
                    aspectRatioDiv.style.height = this.currentHeightpx;

                    aspectRatioDiv = document.getElementById("staticCanvas_1903");
                    aspectRatioDiv.setAttribute("height", this.currentHeight);
                    aspectRatioDiv.setAttribute("width", this.currentWidth);
                    aspectRatioDiv.style.width = this.currentWidthpx;
                    aspectRatioDiv.style.height = this.currentHeightpx;
                    $("#parallaxWomen0_1903, #parallaxWomen1_1903, #parallaxWomen2_1903, #parallaxWomen3_1903, #parallaxMen0_1903, #parallaxMen1_1903, #parallaxMen2_1903, #parallaxMen3_1903").width(this.currentWidthpx);
                    $("#parallaxWomen0_1903, #parallaxWomen1_1903, #parallaxWomen2_1903, #parallaxWomen3_1903, #parallaxMen0_1903, #parallaxMen1_1903, #parallaxMen2_1903, #parallaxMen3_1903").height(this.currentHeightpx);
 
                };
                /////////////////////////////////////////////////////
                function boundingBox() {
                    this.present = false;
                    this.clicked = false;
                }
                boundingBox.prototype.drawBox = function(parNum) {
                    var boundingBoxObj = this;
                    $('#staticCanvas_1903').drawRect({
                        layer: true,
                        name: "drawBox",
                        fillStyle: '#000',
                        opacity: 0,
                        strokeWidth: 1,
                        x: aspectRatioObj.currentWidth / this.x,
                        y: aspectRatioObj.currentHeight / this.y,
                        width: aspectRatioObj.currentWidth / this.width,
                        height: aspectRatioObj.currentHeight / this.height,
                        click: function(layer) {
                            boundingBoxObj.expand(layer.eventX, layer.eventY, false, true, parNum);
                        },
                        touchstart: function(layer) {
                            boundingBoxObj.expand(layer.eventX, layer.eventY, false, true, parNum);
                        },
                        cursors: {
                            mouseover: 'pointer',
                            mousedown: 'move',
                            mouseup: 'pointer'
                        }

                    });

                    this.present = true;
                }
                boundingBox.prototype.contract = function() {
                    if (videoCanvasDrawObj.orientation == "end") {
                        $(parallaxSwitcherObj.currentParallax).unbind("mouseleave");
                        $(parallaxSwitcherObj.currentParallax).unbind("mouseenter");
                        videoCanvasDrawObj.reverse();
                        videoCanvasDrawObj.animateCircle();
                        var staticCanvas_1903 = document.getElementById("staticCanvas_1903");
                        staticCanvas_1903.style.zIndex = "4";
                        if (aeVideo.currentTime > this.start && aeVideo.currentTime < this.end) {
                            this.drawBox();
                        }

                    }
                }
                boundingBox.prototype.expand = function(eventX, eventY, setTimer, setContractBind, parNum) {
                    if (videoCanvasDrawObj.orientation == "start") {
                        var boundingBox = this;
                        this.setTimer = setTimer;
                        this.clicked = true;
                        this.removeBox();
                        parallaxSwitcherObj.setCurrentParallax(parNum);
                        videoCanvasDrawObj.setMouseCoords(eventX, eventY);
                        videoCanvasDrawObj.animateCircle();
                        var staticCanvas_1903 = document.getElementById("staticCanvas_1903");
                        staticCanvas_1903.style.zIndex = "1";
                        aeVideo.pause();

                        if (setTimer) {
                            this.timeout = setTimeout(function() {
                                boundingBox.contract();
                            }, 8000);

                            $(parallaxSwitcherObj.currentParallax).bind("mouseenter", function(e) {
                                clearTimeout(boundingBox.timeout);
                            });
                            $(parallaxSwitcherObj.currentParallax).bind("mouseleave", function(e) {
                                this.timeout = setTimeout(function() {
                                    boundingBox.contract();
                                }, 8000);
                            });
                        }
                        if (setContractBind) {
                            $(parallaxSwitcherObj.currentParallax).css('cursor', 'url(assets/x.png),auto');
                            $(parallaxSwitcherObj.currentParallax).clickOrTouch(function() {
                                boundingBox.contract();
                            });
                        }

                    }

                }

                boundingBox.prototype.expandIfNotClicked = function(parNum, setTimer, setContractBind) {
                    if (!this.clicked) {
                        this.expand(aspectRatioObj.currentWidth / this.x, aspectRatioObj.currentHeight / this.y, setTimer, setContractBind, parNum);
                    }
                }


                boundingBox.prototype.reDraw = function() {
                    if (this.present) {
                        this.removeBox();
                        this.drawBox();
                    }
                }
                boundingBox.prototype.reset = function() {
                    this.clicked = false;
                }
                boundingBox.prototype.removeBox = function() {
                        if (this.present) {
                            $('#staticCanvas_1903').removeLayer("drawBox");
                            $('#staticCanvas_1903').drawLayers();
                            this.present = false;
                        }
                    }
                    //////////////////////////////////////////////////////
                function parallaxSwitcher() {
                    this.currentParallax = "";
                    this.num = -1;
                }

                parallaxSwitcher.prototype.setCurrentParallax = function(num) {
                    if (num > 0) {
                        $("#parallax" + videoSwitch + "" + (num - 1) + "_1903").hide();
                    } else {
                        $("#parallax" + videoSwitch + "3_1903").hide();
                    }
                    this.num = num;
                    this.currentParallax = "#parallax" + videoSwitch + "" + num + "_1903";
                    $(this.currentParallax).show();

                }

                function detection() {
                    this.isiPad = navigator.userAgent.match(/iPad/i) != null;
                }
                detection.prototype.handleDetectionInit = function() {

                    // poster=''
                    if (aspectRatioObj.currentWidth < 300) {
                        $("<video id='video_1903' controls preload='auto' autobuffer></video>").insertAfter("#videoloopCanvas_1903");
                        $("#video_1903").append("<source src='mp4/" + videoSwitch + "240x135.webm' type='video/webm'></source>");
                        $("#video_1903").append("<source src='mp4/" + videoSwitch + "240x135.mp4' type='video/mp4'></source>");
                        $("#video_1903").append("<source src='mp4/" + videoSwitch + "240x135.ogv' type='video/ogg'></source>");
                    } else if (aspectRatioObj.currentWidth < 1000) {
                        $("<video id='video_1903' controls preload='auto' autobuffer></video>").insertAfter("#videoloopCanvas_1903");
                        $("#video_1903").append("<source src='mp4/" + videoSwitch + "980x550.webm' type='video/webm'></source>");
                        $("#video_1903").append("<source src='mp4/" + videoSwitch + "980x550.mp4' type='video/mp4'></source>");
                        $("#video_1903").append("<source src='mp4/" + videoSwitch + "980x550.ogv' type='video/ogg'></source>");
                    } else if (aspectRatioObj.currentWidth < 1280) {
                        $("<video id='video_1903' controls preload='auto' autobuffer></video>").insertAfter("#videoloopCanvas_1903");
                        $("#video_1903").append("<source src='mp4/" + videoSwitch + "1280x720.webm' type='video/webm'></source>");
                        $("#video_1903").append("<source src='mp4/" + videoSwitch + "1280x720.mp4' type='video/mp4'></source>");
                        $("#video_1903").append("<source src='mp4/" + videoSwitch + "1280x720.ogv' type='video/ogg'></source>");
                    } else {
                        $("<video id='video_1903' controls preload='auto' autobuffer></video>").insertAfter("#videoloopCanvas_1903");
                        $("#video_1903").append("<source src='mp4/" + videoSwitch + ".webm' type='video/webm'></source>");
                        $("#video_1903").append("<source src='mp4/" + videoSwitch + ".mp4' type='video/mp4'></source>");
                        $("#video_1903").append("<source src='mp4/" + videoSwitch + ".ogv' type='video/ogg'></source>");
                    }
                    if (this.isiPad) {
                        // We need to show the video so the user can click on it.
                        $("#video_1903").show();
                        $("#staticCanvas_1903").hide();
                        $("#videoloopCanvas_1903").hide();
                    }
                }

                detection.prototype.handleDetectionPlay = function() {
                    if (this.isiPad) {
                        // We need to show the video so the user can click on it.
                        $("#video_1903").hide();
                        $("#staticCanvas_1903").show();
                        $("#videoloopCanvas_1903").show();
                    }
                }

                /////////////////////////////////////////////////////
                function getQueryVariable(variable) {
                    var query = window.location.search.substring(1);
                    var vars = query.split("&");
                    for (var i = 0; i < vars.length; i++) {
                        var pair = vars[i].split("=");
                        if (pair[0] == variable) {
                            return pair[1];
                        }
                    }
                    return (false);
                }
                /////////////////////////////////////////////////////
                var videoSwitch = "Women";
                //var videoSwitch = "Men";
                if (getQueryVariable("v") != false) {
                    videoSwitch = getQueryVariable("v");
                }
                var aspectRatioObj = new aspectRatio();
                aspectRatioObj.calculate(16, 9, $("#videoloopCanvas_1903").parent().innerWidth());
                var detectionObj = new detection();
                detectionObj.handleDetectionInit();

                var parallaxSwitcherObj = new parallaxSwitcher();

                var scene = [];
                var parallax = [];
                var aeVideo = document.getElementById("video_1903");
                var videoCanvasDrawObj = new videoCanvasDraw();

                aspectRatioObj.apply();

                var popcorn = Popcorn("#video_1903");


                if (videoSwitch == "Women") {
                    scene[0] = document.getElementById("parallax" + videoSwitch + "0Scene_1903");
                    parallax[0] = new Parallax(scene[0], objectStringWomen_1903[0]);
                    scene[1] = document.getElementById("parallax" + videoSwitch + "1Scene_1903");
                    parallax[1] = new Parallax(scene[1], objectStringWomen_1903[1]);
                    scene[2] = document.getElementById("parallax" + videoSwitch + "2Scene_1903");
                    parallax[2] = new Parallax(scene[2], objectStringWomen_1903[2]);
                    scene[3] = document.getElementById("parallax" + videoSwitch + "3Scene_1903");
                    parallax[3] = new Parallax(scene[3], objectStringWomen_1903[3]);
                    $.preloadImages(
                        "images/aeobtsflx-x4-heading.png",
                        "images/aeobtsflx-x4-eli.png",
                        "images/aeobtsflx-x-heading.png",
                        "images/aeobtsflx-x-maia.png",
                        "images/aeobtsflx-sateen-heading.png",
                        "images/aeobtsflx-sateen-maia.png",
                        "images/aeobtsflx-end-heading.png",
                        "images/aeobtsflx-end-bridget.png");


                    videoCanvasDrawObj.strokeStyle = '#ffffff';
                    videoCanvasDrawObj.strokeWidth = 1;
                    videoCanvasDrawObj.strokeDash = [1, 2];

                    // 7 - 13
                    // 13 - 21 
                    // 21 - 28
                    // higher <--- ----> Lower 

                    // ^ higher
                    // V lower

                    var segment0Obj = new boundingBox();
                    segment0Obj.start = 7;
                    segment0Obj.end = 13;
                    segment0Obj.expandTime = 12.5;
                    segment0Obj.x = 1.5;
                    segment0Obj.y = 1.5;
                    segment0Obj.width = 4;
                    segment0Obj.height = 3;

                    var segment1Obj = new boundingBox();
                    segment1Obj.start = 13.5;
                    segment1Obj.end = 21;
                    segment1Obj.expandTime = 20.5;
                    segment1Obj.x = 1.6;
                    segment1Obj.y = 1.4;
                    segment1Obj.width = 4.5;
                    segment1Obj.height = 2;

                    var segment2Obj = new boundingBox();
                    segment2Obj.start = 22;
                    segment2Obj.end = 27;
                    segment2Obj.expandTime = 26.8;
                    segment2Obj.x = 1.8;
                    segment2Obj.y = 1.5;
                    segment2Obj.width = 4;
                    segment2Obj.height = 2.3;

                    var segment3Obj = new boundingBox();
                    segment3Obj.start = 31;
                    segment3Obj.end = 31;
                    segment3Obj.expandTime = 31;
                    segment3Obj.x = 2;
                    segment3Obj.y = 2;
                    segment3Obj.width = 0;
                    segment3Obj.height = 0;


                    // SEGMENT 0 DRAW BOX
                    popcorn.code({
                        start: segment0Obj.start,
                        end: segment0Obj.end,
                        onStart: function(options) {
                            segment0Obj.drawBox(0);
                        },
                        onEnd: function(options) {
                            segment0Obj.removeBox();
                        }
                    });

                    //  IF SEGMENT 0 REMAINS UNCLICKED.
                    popcorn.code({
                        start: segment0Obj.expandTime,
                        end: segment0Obj.expandTime + 1,
                        onStart: function(options) {
                            segment0Obj.expandIfNotClicked(0, true, true);
                        },
                        onEnd: function(options) {}
                    });

                    popcorn.code({
                        start: segment1Obj.start,
                        end: segment1Obj.end,
                        onStart: function(options) {
                            segment1Obj.drawBox(1);
                        },
                        onEnd: function(options) {
                            segment1Obj.removeBox();
                        }
                    });


                    //  IF SEGMENT 1 REMAINS UNCLICKED.
                    popcorn.code({
                        start: segment1Obj.expandTime,
                        end: segment1Obj.expandTime + 1,
                        onStart: function(options) {
                            segment1Obj.expandIfNotClicked(1, true, true);
                        },
                        onEnd: function(options) {}
                    });


                    popcorn.code({
                        start: segment2Obj.start,
                        end: segment2Obj.end,
                        onStart: function(options) {
                            segment2Obj.drawBox(2);
                        },
                        onEnd: function(options) {
                            segment2Obj.removeBox();
                        }
                    });


                    //  IF SEGMENT 2 REMAINS UNCLICKED.
                    popcorn.code({
                        start: segment2Obj.expandTime,
                        end: segment2Obj.expandTime + 1,
                        onStart: function(options) {
                            segment2Obj.expandIfNotClicked(2, true, true);
                        },
                        onEnd: function(options) {}
                    });


                } else if (videoSwitch == "Men") {
                    scene[0] = document.getElementById("parallax" + videoSwitch + "0Scene_1903");
                    parallax[0] = new Parallax(scene[0], objectStringMen_1903[0]);
                    scene[1] = document.getElementById("parallax" + videoSwitch + "1Scene_1903");
                    parallax[1] = new Parallax(scene[1], objectStringMen_1903[1]);
                    scene[2] = document.getElementById("parallax" + videoSwitch + "2Scene_1903");
                    parallax[2] = new Parallax(scene[2], objectStringMen_1903[2]);
                    scene[3] = document.getElementById("parallax" + videoSwitch + "3Scene_1903");
                    parallax[3] = new Parallax(scene[3], objectStringMen_1903[3]);

                    $.preloadImages("images/aeobtsflx-core-heading.png",
                        "images/aeobtsflx-core-max.png",
                        "images/aeobtsflx-active-heading.png",
                        "images/aeobtsflx-active-man.png",
                        "images/aeobtsflx-extreme-heading.png",
                        "images/aeobtsflx-extreme-man.png",
                        "images/aeobtsflx-extreme-dock.png",
                        "images/aeobtsflx-flexdenim-heading.png",
                        "images/aeobtsflx-flexdenim-man.png");




                    videoCanvasDrawObj.strokeStyle = '#ffffff';
                    videoCanvasDrawObj.strokeWidth = 1;
                    videoCanvasDrawObj.strokeDash = [1, 2];

                    // higher <--- ----> Lower 

                    // ^ higher
                    // V lower
                    var segment0Obj = new boundingBox();
                    segment0Obj.start = 10.25;
                    segment0Obj.end = 13;
                    segment0Obj.expandTime = 13;
                    segment0Obj.x = 1.8;
                    segment0Obj.y = 2.6;
                    segment0Obj.width = 6;
                    segment0Obj.height = 3;

                    var segment1Obj = new boundingBox();
                    segment1Obj.start = 20.25;
                    segment1Obj.end = 22;
                    segment1Obj.expandTime = 22.2;
                    segment1Obj.x = 1.8;
                    segment1Obj.y = 2;
                    segment1Obj.width = 4;
                    segment1Obj.height = 3;

                    var segment2Obj = new boundingBox();
                    segment2Obj.start = 28;
                    segment2Obj.end = 31;
                    segment2Obj.expandTime = 31;
                    segment2Obj.x = 1.8;
                    segment2Obj.y = 3;
                    segment2Obj.width = 4;
                    segment2Obj.height = 2;
                    
                    var segment3Obj = new boundingBox();
                    segment3Obj.start = 30;
                    segment3Obj.end = 30;
                    segment3Obj.expandTime = 30;
                    segment3Obj.x = 2;
                    segment3Obj.y = 2;
                    segment3Obj.width = 0;
                    segment3Obj.height = 0;

                    // SEGMENT 0 DRAW BOX
                    popcorn.code({
                        start: segment0Obj.start,
                        end: segment0Obj.end,
                        onStart: function(options) {
                            segment0Obj.drawBox(0);
                        },
                        onEnd: function(options) {
                            segment0Obj.removeBox();
                        }
                    });

                    //  IF SEGMENT 0 REMAINS UNCLICKED.
                    popcorn.code({
                        start: segment0Obj.expandTime,
                        end: segment0Obj.expandTime + 1,
                        onStart: function(options) {
                            segment0Obj.expandIfNotClicked(0, true, true);
                        },
                        onEnd: function(options) {}
                    });

                    popcorn.code({
                        start: segment1Obj.start,
                        end: segment1Obj.end,
                        onStart: function(options) {
                            segment1Obj.drawBox(1);
                        },
                        onEnd: function(options) {
                            segment1Obj.removeBox();
                        }
                    });


                    //  IF SEGMENT 1 REMAINS UNCLICKED.
                    popcorn.code({
                        start: segment1Obj.expandTime,
                        end: segment1Obj.expandTime + 1,
                        onStart: function(options) {
                            segment1Obj.expandIfNotClicked(1, true, true);
                        },
                        onEnd: function(options) {}
                    });


                    popcorn.code({
                        start: segment2Obj.start,
                        end: segment2Obj.end,
                        onStart: function(options) {
                            segment2Obj.drawBox(2);
                        },
                        onEnd: function(options) {
                            segment2Obj.removeBox();
                        }
                    });


                    //  IF SEGMENT 2 REMAINS UNCLICKED.
                    popcorn.code({
                        start: segment2Obj.expandTime,
                        end: segment2Obj.expandTime + 1,
                        onStart: function(options) {
                            segment2Obj.expandIfNotClicked(2, true, true);
                        },
                        onEnd: function(options) {}
                    });

                }


                /////////////////////////////////////////////////////
                function loaded() {

                    // store the returned timeRanges object as we use it more than once
                    var buff = popcorn.buffered();

                    // if we have buffered more then half the video
                    if (buff.length > 0 && buff.end(0) > (popcorn.duration() / 2.5)) {
                        popcorn.play();
                        // if less then half the video has loaded call our function again
                    } else {
                        console.log("Still Loading....");
                        setTimeout(loaded, 10);
                    }
                }
                /////////////////////////////////////////////////////
                function canplaythoughListener(e) {
                    loaded();
                    aeVideo.removeEventListener("canplaythrough", canplaythoughListener, false);
                }
                /////////////////////////////////////////////////////
                function initialPlayEventHandler(evt) {
                    detectionObj.handleDetectionPlay();
                    videoCanvasDrawObj.draw(evt);
                    evt.target.removeEventListener('play', initialPlayEventHandler, false);
                }
                /////////////////////////////////////////////////////
                function seekPlayEventHandler(evt) {
                    staticCanvas_1903.style.zIndex = "4";
                    videoCanvasDrawObj.reset();
                    segment0Obj.reset();
                    segment1Obj.reset();
                    segment2Obj.reset();
                    segment3Obj.reset();
                    $("#parallax" + videoSwitch + "3_1903").hide();
                    evt.target.removeEventListener('seeked', seekPlayEventHandler, false);
                }
                /////////////////////////////////////////////////////
                function seek(pos, evt) {
                    evt.preventDefault();
                    aeVideo.addEventListener('seeked', seekPlayEventHandler, false);
                    popcorn.play(pos);
                }

                /////////////////////////////////////////////////////

                aeVideo.addEventListener("canplaythrough", canplaythoughListener, false);
                aeVideo.addEventListener('play', initialPlayEventHandler, false);


                aeVideo.addEventListener("ended", function(e) {
                    segment3Obj.drawBox(3);
                    segment3Obj.expandIfNotClicked(3, false, false);
                    segment3Obj.removeBox();
                }, false);

                // Men
                $(".replay:eq(0)").clickOrTouch(function(e) {
                    seek(0, e);
                });
                $(".replay:eq(2)").clickOrTouch(function(e) {
                    seek(23.5, e);
                });
                $(".replay:eq(1)").clickOrTouch(function(e) {
                    seek(14, e);
                });
                
                // Women
                $(".replay:eq(3)").clickOrTouch(function(e) {
                    seek(0, e);
                });
                 $(".replay:eq(4)").clickOrTouch(function(e) {
                    seek(21.5, e);
                });
                $(".replay:eq(5)").clickOrTouch(function(e) {
                    seek(14, e);
                });
               

                //run the function every time the window is resized
                window.onresize = function(event) {
                    aspectRatioObj.calculate(16, 9, $("#videoloopCanvas_1903").parent().innerWidth());
                    aspectRatioObj.apply();

                    // redraw the segments if they exist;
                    segment0Obj.reDraw();
                    segment1Obj.reDraw();
                    segment2Obj.reDraw();
                }
                
                    $( ".button" ).click(function( event ) {
  event.stopPropagation();
  // Do something
});

            })(this);

        });
    </script>  
 </body>
</html>
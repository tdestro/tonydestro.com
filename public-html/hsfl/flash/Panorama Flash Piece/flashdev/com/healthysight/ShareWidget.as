package com.healthysight{	import flash.display.MovieClip;	import flash.events.MouseEvent;	import flash.net.navigateToURL;	import flash.net.URLRequest;	import flash.events.Event;	public class ShareWidget extends MovieClip	{		private var url = "http://healthysightforlife.org/video1.html?height=500&width=740";		public function ShareWidget()		{			embedMc.visible = false;			this.DropDwn.PlusBtn.buttonMode = true;			this.DropDwn.PlusBtn.addEventListener(MouseEvent.MOUSE_UP,dropMenu);			this.addEventListener(Event.EXIT_FRAME, extFrame);			embedMc.xButton.addEventListener(MouseEvent.CLICK,xButtonFunc);			embedMc.xButton.buttonMode = true;		}		private function xButtonFunc(e:MouseEvent):void		{			embedMc.visible = false;		}		private function dropMenu(e:MouseEvent):void		{			this.DropDwn.gotoAndPlay("Open");		}		private function extFrame(e:Event):void		{			if (this.currentLabel == "Closed")			{				this.ButtonBar.facebook.buttonMode = true;				this.ButtonBar.digg.buttonMode = true;				this.ButtonBar.delicious.buttonMode = true;				this.ButtonBar.technorati.buttonMode = true;				this.ButtonBar.embed.buttonMode = true;				this.ButtonBar.facebook.addEventListener(MouseEvent.MOUSE_OUT,outFunc);				this.ButtonBar.facebook.addEventListener(MouseEvent.MOUSE_DOWN,downFunc);				this.ButtonBar.facebook.addEventListener(MouseEvent.MOUSE_UP,facebookFunc);				this.ButtonBar.facebook.addEventListener(MouseEvent.MOUSE_OVER,overFunc);				this.ButtonBar.digg.addEventListener(MouseEvent.MOUSE_OUT,outFunc);				this.ButtonBar.digg.addEventListener(MouseEvent.MOUSE_DOWN,downFunc);				this.ButtonBar.digg.addEventListener(MouseEvent.MOUSE_UP,diggFunc);				this.ButtonBar.digg.addEventListener(MouseEvent.MOUSE_OVER,overFunc);				this.ButtonBar.delicious.addEventListener(MouseEvent.MOUSE_OUT,outFunc);				this.ButtonBar.delicious.addEventListener(MouseEvent.MOUSE_DOWN,downFunc);				this.ButtonBar.delicious.addEventListener(MouseEvent.MOUSE_UP,deliciousFunc);				this.ButtonBar.delicious.addEventListener(MouseEvent.MOUSE_OVER,overFunc);				this.ButtonBar.technorati.addEventListener(MouseEvent.MOUSE_OUT,outFunc);				this.ButtonBar.technorati.addEventListener(MouseEvent.MOUSE_DOWN,downFunc);				this.ButtonBar.technorati.addEventListener(MouseEvent.MOUSE_UP,technoratiFunc);				this.ButtonBar.technorati.addEventListener(MouseEvent.MOUSE_OVER,overFunc);				this.ButtonBar.embed.addEventListener(MouseEvent.MOUSE_OUT,outFunc);				this.ButtonBar.embed.addEventListener(MouseEvent.MOUSE_UP,embedFunc);				this.ButtonBar.embed.addEventListener(MouseEvent.MOUSE_OVER,overFunc);				e.currentTarget.removeEventListener(Event.EXIT_FRAME, extFrame);				this.DropDwn.PlusBtn.removeEventListener(MouseEvent.MOUSE_UP,dropMenu);			}		}		function upMenu():void		{			gotoAndPlay("Closing");			this.DropDwn.PlusBtn.addEventListener(MouseEvent.MOUSE_UP,dropMenu);			this.addEventListener(Event.EXIT_FRAME, extFrame);			DropDwn.gotoAndPlay("release");		}		function outFunc(e:MouseEvent):void		{			e.currentTarget.gotoAndStop("normal");		}		function overFunc(e:MouseEvent):void		{			e.currentTarget.gotoAndStop("hit");		}		function downFunc(e:MouseEvent):void		{			e.currentTarget.gotoAndStop("down");		}		function facebookFunc(e:MouseEvent):void		{			e.currentTarget.gotoAndStop("hit");			var req:URLRequest = new URLRequest("http://www.new.facebook.com/share.php?src=bm&u=" + url);			navigateToURL(req, "_blank");			upMenu();		}		function diggFunc(e:MouseEvent):void		{			e.currentTarget.gotoAndStop("hit");			var req:URLRequest = new URLRequest("http://digg.com/submit?phrase=2&url=" + url);			navigateToURL(req, "_blank");			upMenu();		}		function deliciousFunc(e:MouseEvent):void		{			e.currentTarget.gotoAndStop("hit");			var req:URLRequest = new URLRequest("http://del.icio.us/post?url=" + url + "&title=Experience Healthy Sight");			navigateToURL(req, "_blank");			upMenu();		}		function technoratiFunc(e:MouseEvent):void		{			e.currentTarget.gotoAndStop("hit");			var req:URLRequest = new URLRequest("http://www.technorati.com/faves?add=" + url);			navigateToURL(req, "_blank");			upMenu();		}		function embedFunc(e:MouseEvent):void		{         embedMc.visible = true;		 embedMc.embedText.text ="<object classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0\" width=\"740\" height=\"600\" id=\"heinzLobbyShell\" align=\"middle\"><param name=\"allowScriptAccess\" value=\"sameDomain\" /><param name=\"allowFullScreen\" value=\"false\" /><param name=\"movie\" value=\""+url+"\" /><param name=\"quality\" value=\"high\" /><param name=\"bgcolor\" value=\"#ffffff\" />	<embed src=\""+url+"\" quality=\"high\" bgcolor=\"#ffffff\" width=\"740\" height=\"600\" name=\"heinzLobbyShell\" align=\"middle\" allowScriptAccess=\"sameDomain\" allowFullScreen=\"false\" type=\"application/x-shockwave-flash\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\" /></object>";		 upMenu();		}	}}